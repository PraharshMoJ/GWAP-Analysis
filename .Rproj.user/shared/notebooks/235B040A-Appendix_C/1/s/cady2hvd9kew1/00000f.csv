"0","    "
"0","################################################################################"
"0","# NDVI Data Synthetic Control (Back Dating 2007)  "
"0","################################################################################"
"0","   NDVI_SC<-read.csv(""./0_Final_Data_GWAP/NDVI_Synth_07_30.csv"") "
"0","   colnames(NDVI_SC)"
"1"," [1]"
"1"," ""State""            "
"1"," ""St_Code""          "
"1"," ""Year""             "
"1"," ""NDVI""             "
"1"," ""Tr_State""         "
"1","
"
"1"," [6]"
"1"," ""Post""             "
"1"," ""DiD""              "
"1"," ""Rainfall_June""    "
"1"," ""RainyDays_June""   "
"1"," ""Rainfall_May""     "
"1","
"
"1","[11]"
"1"," ""RainyDays_May""    "
"1"," ""Rainfall_P1""      "
"1"," ""RainyDays_P1""     "
"1"," ""Rainfall_P2""      "
"1"," ""RainyDays_P2""     "
"1","
"
"1","[16]"
"1"," ""Temp_June""        "
"1"," ""Temp_May""         "
"1"," ""Temp_P1""          "
"1"," ""Temp_P2""          "
"1"," ""Time_To_Treatment"""
"1","
"
"1","[21]"
"1"," ""Log_NDVI""         "
"1"," ""Log_Rainfall_June"""
"1"," ""Log_Rainfall_May"" "
"1"," ""Log_Temp_June""    "
"1"," ""Log_Temp_May""     "
"1","
"
"1","[26]"
"1"," ""GSDP""             "
"1"," ""AgGDP""            "
"1"," ""Population""       "
"1"," ""SoD""              "
"1"," ""RiceT""            "
"1","
"
"1","[31]"
"1"," ""RiceK""            "
"1","
"
"0","   "
"0","   p_load(Synth,SCtools)"
"0","   "
"0","   dataprep_NDVI_BD <- dataprep("
"0","     foo = NDVI_SC, ## data"
"0","     predictors = c(""Rainfall_May"", ""Temp_May"",""Rainfall_June"",""Temp_June""), ## predictor variables (all pre-treatment periods)"
"0","     predictors.op = ""mean"", ## functional form"
"0","     time.predictors.prior = 2002:2007, ## define pre-treatment period"
"0","     special.predictors = list( ## special predictors "
"0","       list(""NDVI"", c(2002:2007), ""mean""), ## outcome variable averages from 2002-2008"
"0","       list(""Population"", 2006, ""mean""), ## Population in 2006 (Mean of 2001 and 2011)"
"0","       list(""SoD"", 2004, ""mean""), ## GW SOD in 2004"
"0","       list(""GSDP"", 2004:2007, ""mean""), ## mean GSDP in 2004-2008"
"0","       list(""AgGDP"", 2004:2007, ""mean""), ## mean agGDP in 2004-2008"
"0","       list(""RiceK"", 2004:2007, ""mean"")), ## mean Rice cultivation Area in 2004:2008"
"0","     #list(""Factories"", 2004:2008, ""mean"")), ##No of factories in the states"
"0","     dependent = ""NDVI"", ## outcome variable"
"0","     unit.variable = ""St_Code"", ## unit variable"
"0","     unit.names.variable = ""State"", ## unit names"
"0","     time.variable = ""Year"", ## time variable "
"0","     treatment.identifier = 0, ## treated state"
"0","     controls.identifier = c(1:14), ## control states"
"0","     time.optimize.ssr = 2002:2007,  ## time to optimize SSR"
"0","     time.plot = 2002:2016 ## time to plot"
"0","   )  "
"0","   "
"0","   #Preparing synth data"
"0","   synth_out_NDVI_BD <- synth(data.prep.obj = dataprep_NDVI_BD)  "
"1","
X1, X0, Z1, Z0 all come directly from dataprep object.

"
"1","
****************"
"1"," "
"1","
 searching for synthetic control unit  
"
"1"," "
"1","
"
"1","
****************"
"1"," "
"1","
****************"
"1"," "
"1","
****************"
"1"," "
"1","

MSPE (LOSS V):"
"1"," "
"1","0.0001834653"
"1"," "
"1","

solution.v:
"
"1"," "
"1","0.01474062"
"1"," "
"1","0.01221754"
"1"," "
"1","0.0007253887"
"1"," "
"1","0.005711438"
"1"," "
"1","0.9342627"
"1"," "
"1","0.003849763"
"1"," "
"1","0.008196921"
"1"," "
"1","0.0005096298"
"1"," "
"1","0.0001520995"
"1"," "
"1","0.01963388"
"1"," "
"1","

solution.w:
"
"1"," "
"1","0.001306744"
"1"," "
"1","0.0003533698"
"1"," "
"1","0.02699816"
"1"," "
"1","0.0009776205"
"1"," "
"1","0.0006563009"
"1"," "
"1","0.0002835766"
"1"," "
"1","8.6113e-06"
"1"," "
"1","0.001460926"
"1"," "
"1","0.0004509492"
"1"," "
"1","0.0006571908"
"1"," "
"1","0.359741"
"1"," "
"1","0.1704884"
"1"," "
"1","0.002327699"
"1"," "
"1","0.4342894"
"1"," "
"1","

"
"0","   "
"0","   #Preparing synth tables"
"0","   synth_tables<-synth.tab(dataprep.res = dataprep_NDVI_BD, synth.res = synth_out_NDVI_BD)"
"0","   names(synth_tables)"
"1","[1]"
"1"," ""tab.pred"""
"1"," ""tab.v""   "
"1"," ""tab.w""   "
"1"," ""tab.loss"""
"1","
"
"0","   Synth_tab_pred<-synth_tables$tab.pred"
"0","   Synth_tab_v<-synth_tables$tab.v"
"0","   Synth_tab_loss<-synth_tables$tab.loss"
"0","   Synth_tab_pred"
"1","                       "
"1","      Treated"
"1","    Synthetic"
"1","  Sample Mean"
"1","
Rainfall_May           "
"1","       18.712"
"1","       28.177"
"1","       58.400"
"1","
Temp_May               "
"1","      305.489"
"1","      305.840"
"1","      304.593"
"1","
Rainfall_June          "
"1","       59.179"
"1","       98.007"
"1","      190.777"
"1","
Temp_June              "
"1","      306.096"
"1","      305.360"
"1","      303.031"
"1","
special.NDVI.2002.2007 "
"1","        0.314"
"1","        0.314"
"1","        0.413"
"1","
special.Population.2006"
"1","    49299.000"
"1","   114499.714"
"1","    63968.964"
"1","
special.SoD.2004       "
"1","      128.171"
"1","       90.807"
"1","       54.429"
"1","
special.GSDP.2004.2007 "
"1"," 21963330.500"
"1"," 22588919.021"
"1"," 17542022.071"
"1","
special.AgGDP.2004.2007"
"1","  6221277.750"
"1","  5236069.497"
"1","  3076591.411"
"1","
special.RiceK.2004.2007"
"1","     3714.620"
"1","     2987.381"
"1","     1473.604"
"1","
"
"0","   Synth_tab_v"
"1","                       "
"1"," v.weights"
"1","
Rainfall_May           "
"1"," 0.015    "
"1","
Temp_May               "
"1"," 0.012    "
"1","
Rainfall_June          "
"1"," 0.001    "
"1","
Temp_June              "
"1"," 0.006    "
"1","
special.NDVI.2002.2007 "
"1"," 0.934    "
"1","
special.Population.2006"
"1"," 0.004    "
"1","
special.SoD.2004       "
"1"," 0.008    "
"1","
special.GSDP.2004.2007 "
"1"," 0.001    "
"1","
special.AgGDP.2004.2007"
"1"," 0        "
"1","
special.RiceK.2004.2007"
"1"," 0.02     "
"1","
"
"0","   Synth_tab_loss"
"1","    "
"1","    Loss W"
"1","       Loss V"
"1","
[1,]"
"1"," 0.0251982"
"1"," 0.0001834653"
"1","
"
"0","   "
"0","   #Save and load synth data"
"0","   save(synth_out_NDVI_BD, file='synth_out_NDVI_BD.RData')"
"0","   load('synth_out_NDVI_BD.RData')"
"0","   "
"0","   ## plot outcome for treated and synthetic control"
"0","   path.plot(synth_out_NDVI_BD, dataprep_NDVI_BD, Ylab = ""NDVI"", Xlab = ""Year"", Main = ""Figure A8(B1): Outcome for Treated and Synthetic Control (Back Dating)"")"
